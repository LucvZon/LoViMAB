---
title: "Sample: {sample_name}"
---

## Read Filtering

After quality control, a total of **{total_read_count}** reads remained.

Following classification against the human virus database, **{target_read_count}** reads were selected for assembly.

This represents **{reads_leftover_pct}%** of the quality-controlled reads.

Average read length after classification: **{mean_read_length}**

## Assembly Performance

### Run Time and Resource Usage

```{{r}}
#| label: tbl-benchmark-{sample_name}
#| echo: false
#| results: asis

sample_name <- "{sample_name}"
types <- c("primary", "secondary", "final")

for (t in types) {{
  # Construct filename: Sample1_primary_benchmark_summary.csv
  filename <- paste0(sample_name, "_", t, "_benchmark_summary.csv")
  
  if (file.exists(filename)) {{
    # DOUBLE BRACES {{ }} AROUND THE STYLE ATTRIBUTE TO PREVENT CRASHING
    cat(paste0("\n#### ", tools::toTitleCase(t), " {{style='text-align: left;'}}\n\n"))
    
    data <- read.csv(filename, check.names = FALSE)
    print(
      knitr::kable(data, format = "html", table.attr = 'class="table table-striped table-hover" style="font-size:15px;"')
    )
    cat("\n\n")
  }}
}}
```

### Assembly Outcome

```{{r}}
#| label: tbl-assembly-{sample_name}
#| echo: false
#| results: asis

for (t in types) {{
  filename <- paste0(sample_name, "_", t, "_assembly_summary.csv")
  
  if (file.exists(filename)) {{
    cat(paste0("\n#### ", tools::toTitleCase(t), " {{style='text-align: left;'}}\n\n"))
    
    data <- read.csv(filename, check.names = FALSE)
    print(
      knitr::kable(data, format = "html", table.attr = 'class="table table-striped table-hover" style="font-size:15px;"')
    )
    cat("\n\n")
  }}
}}
```

## Contig Quality (CheckV)

### CheckV Quality Categories

```{{r}}
#| label: tbl-checkv-quality
#| echo: false
#| results: asis

for (t in types) {{
  filename <- paste0(sample_name, "_", t, "_checkv_summary.csv")
  
  if (file.exists(filename)) {{
    cat(paste0("\n#### ", tools::toTitleCase(t), " {{style='text-align: left;'}}\n\n"))
    
    data <- read.csv(filename, check.names = FALSE)
    print(
      knitr::kable(data, format = "html", table.attr = 'class="table table-striped table-hover" style="font-size:15px;"')
    )
    cat("\n\n")
  }}
}}
```

### MIUViG Quality Categories

```{{r}}
#| label: tbl-miuvig-quality
#| echo: false
#| results: asis

for (t in types) {{
  filename <- paste0(sample_name, "_", t, "_miuvig_summary.csv")
  
  if (file.exists(filename)) {{
    cat(paste0("\n#### ", tools::toTitleCase(t), " {{style='text-align: left;'}}\n\n"))
    
    data <- read.csv(filename, check.names = FALSE)
    print(
      knitr::kable(data, format = "html", table.attr = 'class="table table-striped table-hover" style="font-size:15px;"')
    )
    cat("\n\n")
  }}
}}
```
